<ng-container *ngrxLet="elementStyle$ as elementStyle">
  <form
    class="styling-section__form form"
    [formGroup]="styleForm"
    (ngSubmit)="onFormSubmit()"
    *ngIf="elementStyle"
  >
    <div class="form__inputs">
      <mat-form-field
        *ngIf="elementStyle.placeholderText"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Placeholder</mat-label>
        <input matInput formControlName="placeholderText" />
      </mat-form-field>
      <mat-form-field
        *ngIf="elementStyle.width"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Width</mat-label>
        <input matInput formControlName="width" />
      </mat-form-field>
      <mat-form-field
        *ngIf="elementStyle.height"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Height</mat-label>
        <input matInput formControlName="height" />
      </mat-form-field>
      <mat-form-field
        *ngIf="elementStyle.borderStyle"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Border style</mat-label>
        <mat-select formControlName="borderStyle">
          <mat-option
            *ngFor="let style of elementsService.allBorderStyles"
            [value]="style"
            >{{ style }}</mat-option
          >
        </mat-select>
      </mat-form-field>
      <mat-form-field
        *ngIf="elementStyle.fontSize"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Font size</mat-label>
        <input matInput formControlName="fontSize" />
      </mat-form-field>
      <mat-form-field
        *ngIf="elementStyle.fontWeight"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Font weight</mat-label>
        <mat-select formControlName="fontWeight">
          <mat-option
            *ngFor="let style of elementsService.allFontWeights"
            [value]="style"
            >{{ style }}</mat-option
          >
        </mat-select>
      </mat-form-field>
      <mat-form-field
        *ngIf="elementStyle.label"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Label</mat-label>
        <input matInput formControlName="label" />
      </mat-form-field>
    </div>
    <div class="form__bottom-inputs">
      <mat-checkbox formControlName="required">Required</mat-checkbox>
      <mat-form-field
        *ngIf="elementStyle.color"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Color</mat-label>
        <input type="color" matInput formControlName="color" />
      </mat-form-field>
      <mat-form-field
        *ngIf="elementStyle.options"
        appearance="outline"
        color="accent"
        class="form__field"
      >
        <mat-label>Add option</mat-label>
        <input matInput #options />
        <button type="button" (click)="addOption(options)">+</button>
      </mat-form-field>
      <mat-form-field
        appearance="outline"
        *ngIf="elementStyle.options"
        color="accent"
      >
        <mat-label>Options</mat-label>
        <mat-select>
          <mat-option [value]="elementStyle.placeholderText">
            {{ elementStyle.placeholderText }}
          </mat-option>
          <mat-option *ngFor="let option of options" [value]="option">
            {{ option }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <button
      [disabled]="this.styleForm.invalid"
      mat-raised-button
      color="accent"
      class="form__submit-button"
    >
      Apply
    </button>
  </form>
</ng-container>
